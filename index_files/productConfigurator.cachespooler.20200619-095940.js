(function(t){function e(e){for(var n,o,s=e[0],c=e[1],u=e[2],d=0,l=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&l.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);p&&p(e);while(l.length)l.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,o=1;o<r.length;o++){var s=r[o];0!==i[s]&&(n=!1)}n&&(a.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},o={productConfigurator:0},i={productConfigurator:0},a=[];function s(t){return c.p+"js/"+({"basket-screen~configurator-screen~entry-screen":"basket-screen~configurator-screen~entry-screen","basket-screen~onboarding-screen":"basket-screen~onboarding-screen","basket-screen":"basket-screen","configurator-screen~entry-screen":"configurator-screen~entry-screen","configurator-screen":"configurator-screen","entry-screen":"entry-screen","onboarding-screen":"onboarding-screen","reentry-screen":"reentry-screen"}[t]||t)+".js"}function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(t){var e=[],r={"basket-screen~configurator-screen~entry-screen":1,"basket-screen~onboarding-screen":1,"basket-screen":1,"configurator-screen~entry-screen":1,"configurator-screen":1,"onboarding-screen":1,"reentry-screen":1};o[t]?e.push(o[t]):0!==o[t]&&r[t]&&e.push(o[t]=new Promise((function(e,r){for(var n="css/"+({"basket-screen~configurator-screen~entry-screen":"basket-screen~configurator-screen~entry-screen","basket-screen~onboarding-screen":"basket-screen~onboarding-screen","basket-screen":"basket-screen","configurator-screen~entry-screen":"configurator-screen~entry-screen","configurator-screen":"configurator-screen","entry-screen":"entry-screen","onboarding-screen":"onboarding-screen","reentry-screen":"reentry-screen"}[t]||t)+".css",i=c.p+n,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var u=a[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===n||d===i))return e()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===n||d===i)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var n=e&&e.target&&e.target.src||i,a=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete o[t],p.parentNode.removeChild(p),r(a)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){o[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,r){n=i[t]=[e,r]}));e.push(n[2]=a);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(t);var l=new Error;u=function(e){d.onerror=d.onload=null,clearTimeout(p);var r=i[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,r[1](l)}i[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/etc/clientlibs/frontend/sanitas-ovp-webpack/",c.oe=function(t){throw console.error(t),t};var u=window["webpackOVP2"]=window["webpackOVP2"]||[],d=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var p=d;a.push([0,"chunk-vendors","chunk-common"]),r()})({0:function(t,e,r){t.exports=r("c7e5")},1021:function(t,e,r){},"2b42":function(t,e,r){"use strict";var n=r("f9d4"),o=r.n(n);o.a},3322:function(t,e,r){},3350:function(t,e,r){},"3a0a":function(t,e,r){},"3cd3":function(t,e,r){"use strict";var n=r("3322"),o=r.n(n);o.a},4217:function(t,e,r){},"4ede":function(t,e,r){"use strict";var n=r("3a0a"),o=r.n(n);o.a},"54bb":function(t,e,r){"use strict";var n=r("a997"),o=r.n(n);o.a},7747:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{key:t.productId,class:t.classes,attrs:{"data-product-id":t.productId}},[r("div",{staticClass:"product-proposal"},[t._v(t._s(t.proposal))]),r("div",{staticClass:"product-main",class:{"product--disabled":t.isDisabled},on:{click:function(e){return t.select(e,!1)}}},[t.isClosable&&!t.isMini?r("sanitas-button",{staticClass:"product__close",attrs:{plain:"",icon:"navigation-close","icon-color":"original-green","data-test":"productBox_closeButton","icon-size":24},on:{click:function(e){return t.select(e,!0)}}}):t._e(),r("div",{staticClass:"product-header"},[r("div",{staticClass:"product__title"},[t._v(t._s(t.product.title))]),r("div",{staticClass:"product__name"},[t._v(t._s(t.product.name))]),r("ovp-price",{staticClass:"product_price",attrs:{suffix:t.label("basket_inclusiveMT"),price:t.productPrice}}),t.hasEmployersContribution(t.personId,t.product.id)?r("employers-reduction-info",{staticClass:"product_reduction"}):t._e(),t.product.description?r("div",{staticClass:"product__description"},[t._v(t._s(t.product.description)+"\n      ")]):t._e()],1),r("div",{staticClass:"product-content"},[t.showCriteria?r("div",{staticClass:"product_criteria options"},[t.product.criteria.accident?r("div",{staticClass:"option"},[r("div",{staticClass:"option__title"},[t._v("\n            "+t._s(t.getCriteriaText(t.product,"accident","title"))+"\n\n            "),r("sanitas-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.getCriteriaText(t.product,"accident","tooltip"),expression:"getCriteriaText(product, 'accident', 'tooltip')"}],attrs:{name:"information",color:"original-green",size:18}})],1),r("accident-toggle",{attrs:{value:t.getSelectedOption("accident"),"label-true":t.label("accident_yes"),"label-false":t.label("accident_no")},on:{change:function(e){return t.selectCriteria("accident",e)}}})],1):t._e(),t.product.criteria.franchise&&Object.keys(t.product.criteria.franchise.options).length>1?r("div",{staticClass:"option"},[r("div",{staticClass:"option__title"},[t._v("\n            "+t._s(t.getCriteriaText(t.product,"franchise","title"))+"\n\n            "),r("sanitas-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.getCriteriaText(t.product,"franchise","tooltip"),expression:"getCriteriaText(product, 'franchise', 'tooltip')"}],attrs:{name:"information",color:"original-green",size:18}})],1),r("franchise-selector",{attrs:{inside:t.franchiseInside,inline:t.franchiseInline,orderBy:"asc",currency:!1,selected:t.getSelectedOption("franchise"),items:t.product.criteria.franchise.options},on:{select:function(e){return t.selectCriteria("franchise",e)}}})],1):t._e(),t.product.criteria.variante&&Object.keys(t.product.criteria.variante.options).length>1?r("div",{staticClass:"option"},[r("div",{staticClass:"option__title"},[t._v("\n            "+t._s(t.getCriteriaText(t.product,"variante","title"))+"\n\n            "),r("sanitas-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.getCriteriaText(t.product,"variante","tooltip"),expression:"getCriteriaText(product, 'variante', 'tooltip')"}],attrs:{name:"information",color:"sanitas-green",size:18}})],1),r("franchise-selector",{attrs:{inside:t.franchiseInside,inline:t.franchiseInline,orderBy:"asc",currency:!1,selected:t.getSelectedOption("variante"),items:t.product.criteria.variante.options,transform:!1},on:{select:function(e){return t.selectCriteria("variante",e)}}})],1):t._e(),t.product.criteria.versicherungssumme&&Object.keys(t.product.criteria.versicherungssumme.options).length>1?r("div",{staticClass:"option"},[r("div",{staticClass:"option__title"},[t._v("\n            "+t._s(t.getCriteriaText(t.product,"versicherungssumme","title"))+"\n\n            "),r("sanitas-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.getCriteriaText(t.product,"versicherungssumme","tooltip"),expression:"getCriteriaText(product, 'versicherungssumme', 'tooltip')"}],attrs:{name:"information",color:"sanitas-green",size:18}})],1),r("franchise-selector",{attrs:{inside:t.franchiseInside,inline:t.franchiseInline,orderBy:"asc",currency:!1,selected:t.getSelectedOption("versicherungssumme"),items:t.product.criteria.versicherungssumme.options,transform:!1},on:{select:function(e){return t.selectCriteria("versicherungssumme",e)}}})],1):t._e()]):t._e(),r("ul",{staticClass:"product_bullets"},t._l(t.product.bulletPoints,(function(e,n){return r("li",{key:n},[t._v(t._s(e))])})),0)]),r("div",{staticClass:"product-actions"},[t.isMini?[r("a",{staticClass:"plain"},[t._v(t._s(t.label("product_more_information")))])]:[r("div",{staticClass:"product-action"},[t.product.benefitPath?r("comparison-button",{attrs:{type:"benefit",product:t.product}},[t._v(t._s(t.label("product_more_details")))]):t.product.linkToContentPage?r("a",{attrs:{href:t.product.linkToContentPage}},[t._v(t._s(t.label("product_more_details"))+"\n          ")]):t._e(),t.product.comparisonPath?r("comparison-button",{attrs:{type:"comparison",product:t.product}},[t._v(t._s(t.product.comparisonLinkName)+"\n          ")]):t._e()],1),r("div",{staticClass:"product-action"},[r("product-actions",{attrs:{"tracking-context":t.trackingContext,available:t.isAvailable,product:t.product,"person-id":t.personId},on:{added:function(e){return t.addProductEvent(t.product)},show:function(e){return t.$emit("show")}}})],1)]],2),t.additionalInfo?r("sanitas-message",{staticClass:"product-message",attrs:{outline:"","is-html":"",text:t.additionalInfo}}):t._e()],1),t.isMedicalOfficeProduct?r("div",{staticClass:"product-doctor"},[r("product-doctor",{attrs:{"person-id":t.personId,product:t.product,transferable:t.isInBasket},on:{show:function(e){return t.$emit("show")}}})],1):t._e(),t._l(t.upgrades,(function(e){return r("div",{key:e.id,staticClass:"product-upgrade",class:{"product--added":t.isUpgradeActive(e),"product--disabled":!t.isInBasket},attrs:{"data-product-id":e.id}},[r("div",{staticClass:"product-header"},[r("div",{staticClass:"product__title"},[t._v(t._s(t.label("basket_fitted_options")))]),r("div",{staticClass:"product__name"},[t._v(t._s(e.name))]),r("ovp-price",{staticClass:"product_price",attrs:{suffix:t.label("basket_inclusiveMT"),price:t.getUpgradePrice(e.id)}}),r("div",{staticClass:"product__description"},[t._v(t._s(e.description))])],1),e.additionalInfo?r("sanitas-message",{staticClass:"product_message",attrs:{"is-html":"",outline:"",text:e.additionalInfo,icon:e.additionalInfoIcon||"information","icon-size":24}}):t._e(),r("div",{staticClass:"product-content"}),r("div",{staticClass:"product-actions"},[r("div",{staticClass:"product-action"},[e.benefitPath?r("comparison-button",{attrs:{type:"benefit",product:e}},[t._v(t._s(t.label("product_more_details"))+"\n        ")]):e.linkToContentPage?r("a",{attrs:{href:e.linkToContentPage}},[t._v(t._s(t.label("product_more_details"))+"\n        ")]):t._e()],1),r("div",{staticClass:"product-action"},[r("product-actions",{attrs:{available:t.isAvailable,product:e,"person-id":t.personId},on:{added:function(r){return t.addProductEvent(e)}}})],1)])],1)}))],2)},o=[],i=r("2f62"),a=r("2ef0"),s=r("f87f"),c=r("de76"),u=r("44a2"),d=r("c625"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"comparison"},[r("div",{staticClass:"comparison-container"},[r("a",{on:{click:t.openComparison}},[t._t("default")],2)]),t.modalActive?r("sanitas-modal",{staticClass:"modal",attrs:{"close-icon":""},on:{close:function(e){t.modalActive=!1}}},[r("div",{staticClass:"compare-container"},[r("div",{staticClass:"modal_header"},[t.isComparison?t._e():r("div",{staticClass:"product__title"},[t._v(t._s(t.product.title))]),r("div",{staticClass:"product__name"},[t._v("\n          "+t._s(t.isComparison?t.product.comparisonTitle:t.product.name))]),t.product.linkToContentPage?r("div",{staticClass:"product__link"},[r("a",{staticClass:"product__detail",attrs:{target:"_blank",href:t.product.linkToContentPage}},[t._v("\n            "+t._s(t.label("product_page_text"))+"\n          ")])]):t._e()]),r("div",{staticClass:"modal_content"},[!t.isComparison&&t.product.teaser?r("div",{staticClass:"product__byline"},[t._v("\n          "+t._s(t.product.teaser)+"\n        ")]):t._e(),t.structure?r("benefits-table",{staticClass:"table",attrs:{selectedId:t.product.id,columns:t.pack.columns||[],benefits:t.structure}}):t._e()],1),r("div",{staticClass:"modal_footer"},[r("div",{staticClass:"product__disclaimer",domProps:{innerHTML:t._s(t.label("comparison_disclaimer_text"))}})])])]):t._e()],1)},p=[],f=r("dd9f"),b=r("11c1"),h=r.n(b),g=r("4461");function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var O={name:"",components:{SanitasModal:c["l"],BenefitsTable:f["a"]},props:{product:{type:Object,required:!0},type:{type:String,required:!0}},data:function(){return{name:h.a.v4(),structure:null,modalActive:!1}},methods:{openComparison:function(){this.modalActive=!0,Object(g["h"])("ovp","OvpProductDetailClicked",{productDetail:"".concat(this.type,": ").concat(this.product.id)})}},mounted:function(){var t=this.pack,e=this.$backend,r=this;t&&t.path&&e.resources.getContentByPath(t.path).then((function(t){r.structure=t}))},computed:v({},Object(i["c"])(["label"]),{pack:function(){var t=this.type,e=this.product;return{path:e["".concat(t,"Path")],columns:e["".concat(t,"Columns")]}},isComparison:function(){return"comparison"===this.type}})},P=O,_=(r("bfbf"),r("2877")),C=Object(_["a"])(P,l,p,!1,null,"7c6f2a75",null),k=C.exports,j=r("b1bf"),w=r("117e"),I=r("185d"),S=r("1fd1"),D=r("1d42"),B=r("6e7d");function x(t){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var L={name:"ProductBox",components:{FranchiseSelector:d["a"],AccidentToggle:u["a"],OvpPrice:s["a"],SanitasMessage:c["g"],SanitasIcon:c["f"],SanitasButton:c["a"],ComparisonButton:k,EmployersReductionInfo:j["a"],ProductActions:w["a"],ProductDoctor:I["a"]},props:{disabled:{type:Boolean,required:!1},hideOptions:{type:Boolean,required:!1},product:{type:Object,required:!0},isMini:{type:Boolean,default:!1},isClosable:{type:Boolean,default:!1},isMedicalOfficeProduct:{type:Boolean,default:!1},franchiseInside:{type:Boolean,default:!0},franchiseInline:{type:Boolean,default:!1},personId:{type:String,required:!0},trackingContext:{type:String,default:g["w"]}},computed:T({},Object(i["c"])(["contractStartDate","getPersonById","getProductPrice","getProductPriceByCriteria","getProductSelectedCriteriaForPerson","getSelectedDoctorForProduct","hasLabel","hasEmployersContribution","isProductInBasket","isForbiddenProductForPerson","isAvailableProductForPerson","label"]),{proposal:function(){if(this.product.proposal)return this.product.proposal},additionalInfo:function(){var t=this.product.additionalInfo,e=-1===Object(D["g"])(this.person.dateOfBirth);return e&&(t=this.product.additionalInfoUnborn?this.product.additionalInfoUnborn:this.product.additionalInfo),t},classes:function(){var t=this.isInBasket,e=this.isOverinsured,r=this.isAvailable,n=this.isMini;return{product:!0,"product--added":t,"product--overinsured":e,"product--unavailable":!r,"product--mini":n}},person:function(){return this.getPersonById(this.personId)},productId:function(){return this.product.id},productName:function(){var t=this.product,e=t.name;t.id;return e},selectedCriteria:function(){if(!Object(a["isEmpty"])(this.product.criteria))return this.getProductSelectedCriteriaForPerson(this.personId,this.productId)},productPrice:function(){return this.getProductPriceByCriteria(this.personId,this.productId,this.selectedCriteria)},showCriteria:function(){var t=Object(a["get"])(this,"product.criteria",{});return!this.hideOptions&&Object.keys(t).length>0},isAvailable:function(){var t=this.personId,e=this.disabled,r=this.product;return this.isAvailableProductForPerson(t,r.id)&&!e},isDisabled:function(){this.product.parentKey;var t=!!this.getSelectedDoctorForProduct(this.personId,this.product.id);return!this.isAvailable&&!this.isMedicalOfficeProduct||this.isMedicalOfficeProduct&&!t},isOverinsured:function(){var t=this.personId,e=this.product;return this.isForbiddenProductForPerson(t,e.id)},isInBasket:function(){return this.isProductInBasket(this.personId,this.product.id)},upgrades:function(){return this.product.subProducts.filter((function(t){return t.available&&!t.hidden&&!t.hideInConfigurator}))},medicalOfficeIdentifier:function(){return Object(a["get"])(B["a"].productAVMtypes,this.product.id,"").toLowerCase()}}),methods:T({},Object(i["b"])(["addProductToBasket","selectCriteriaOption"]),{addProductEvent:function(t){this.$emit("added",t)},select:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.stopPropagation(),(this.isMini&&!e||!this.isMini&&e)&&this.$emit("select",this.product.id)},getCriteriaText:function(t,e,r){return t["".concat(e,"_").concat(r)]?t["".concat(e,"_").concat(r)]:this.label("include_".concat(e,"_").concat(r))},getSelectedOption:function(t){return Object(S["a"])(this.product.criteria[t],this.selectedCriteria)},getUpgradePrice:function(t){return this.getProductPrice(this.personId,t)},selectCriteria:function(t,e){var r=this.productId;e="object"===x(e)?e.category:e,this.selectCriteriaOption({productId:r,criteriaCategory:t,optionCategory:e})},isUpgradeActive:function(t){return this.isProductInBasket(this.personId,t.id)}})},A=L,N=(r("cbb6"),Object(_["a"])(A,n,o,!1,null,"63156392",null));e["a"]=N.exports},"78d0":function(t,e,r){},"88ef":function(t,e,r){"use strict";var n=r("4217"),o=r.n(n);o.a},a997:function(t,e,r){},bfbf:function(t,e,r){"use strict";var n=r("ce1a"),o=r.n(n);o.a},c7e5:function(t,e,r){"use strict";r.r(e);var n=r("4360"),o=r("690a"),i=r("8c4f"),a=r("00e7"),s=r.n(a),c=r("2ef0"),u=r("0245"),d=r("1d42"),l=r("3beb");o["a"].use(i["a"]);var p=function(t){var e=t.dapUrl,o=new i["a"]({routes:[{name:"Entry",path:"/entry",component:function(){return Promise.all([r.e("basket-screen~configurator-screen~entry-screen"),r.e("configurator-screen~entry-screen"),r.e("entry-screen")]).then(r.bind(null,"b3d3f"))}},{name:"Basket",path:"/basket",component:function(){return Promise.all([r.e("basket-screen~configurator-screen~entry-screen"),r.e("basket-screen~onboarding-screen"),r.e("basket-screen")]).then(r.bind(null,"d049"))}},{name:"Reentry",path:"/:token(RE.*)",beforeEnter:function(t,e,r){n["a"].dispatch("resetApplication").then(r)},component:function(){return r.e("reentry-screen").then(r.bind(null,"d83f"))}},{name:"CollectivePartner",path:"/:contractNumber(K.*)",beforeEnter:function(t,e,r){n["a"].dispatch("resetApplication").then(r)},component:function(){return r.e("reentry-screen").then(r.bind(null,"d83f"))}},{name:"Partner",path:"/partner/:partnerId",component:function(){return r.e("reentry-screen").then(r.bind(null,"d83f"))}},{name:"Onboarding",path:"/onboarding/:token",component:function(){return Promise.all([r.e("basket-screen~onboarding-screen"),r.e("onboarding-screen")]).then(r.bind(null,"557b"))},props:{dapUrl:e}},{path:"/partner",redirect:{name:"Configurator"}},{path:"/onboarding",redirect:{name:"Configurator"}},{name:"Configurator",path:"/",component:function(){return Promise.all([r.e("basket-screen~configurator-screen~entry-screen"),r.e("configurator-screen~entry-screen"),r.e("configurator-screen")]).then(r.bind(null,"d79f"))},beforeEnter:function(t,e,r){n["a"].getters.activePersonId?r():r({name:"Entry",replace:!0})}}],scrollBehavior:function(t,e,r){return r||{x:0,y:0}}});return o.beforeEach((function(t,e,r){var o=n["a"].getters.timestamp,i=Object(u["a"])(Object(d["i"])(),o),a=i>=0,p=t.params,f=p.contractNumber,b=p.partnerId,h=window.location,g=h.href,m=h.hash,v=document.referrer===g.replace(m,""),y=null===e.name,O=s.a.get("sanitasReload");O=JSON.parse(O),Object(c["isEmpty"])(O)&&(O={firstLoad:y}),t.query&&t.query.bundleCode&&n["a"].dispatch("setBundleCode",t.query.bundleCode),!y||v||O.restart||(O={outdated:a,firstLoad:y,partnerId:b,contractNumber:f}),s.a.set("sanitasReload",JSON.stringify(O),{expires:1});var P={type:n["a"].getters.sourceType,language:n["a"].getters.language,noPageTracking:"Configurator"===t.name&&!n["a"].getters.activePersonId};Object(l["c"])(t,e,P),r()})),o},f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.classes,attrs:{"app-version":t.$ovpVersion}},[r("div",{staticClass:"ovp-outer"},[r("sanitas-notifications",{staticClass:"notifications",attrs:{app:"ovp","base-url":t.resourceBaseUrl,language:t.language,"fetch-messages":t.fetchNotificationMessages}}),r("div",{class:t.headClasses}),r("router-view")],1),t.showRecommendations?r("recommendation-list",{attrs:{"tracking-context":t.trackingContext}}):t._e(),t.isScreen(t.screens.onboarding)?[t.showBasketModal?r("sanitas-modal",{attrs:{"close-icon":""},on:{close:function(e){t.showBasketModal=!1}}},[r("modal-content",[r("confirmation-basket-data")],1)],1):t._e()]:t._e(),r("support-bar",[r("p",{directives:[{name:"show",rawName:"v-show",value:t.showBasketLink,expression:"showBasketLink"}],class:{"support-link":!0,"support-link--disabled":!t.hasProducts}},[r("a",{on:{click:t.showBasket}},[t._v(t._s(t.label("show_shopping_card")))])]),r("p",{staticClass:"support-link"},[r("a",{on:{click:function(e){t.showModal=!0}}},[t._v("\n        "+t._s(t.label("how_to_cancel_link"))+"\n      ")])])]),t.showModal?r("sanitas-modal",{attrs:{"close-icon":""},on:{close:function(e){t.showModal=!1}}},[r("modal-content",[r("div",{domProps:{innerHTML:t._s(t.label("how_to_cancel_tooltip"))}})])],1):t._e(),r("modal-loader",{attrs:{name:"loading"}},[r("sanitas-loading")],1),r("outdated-message"),t.devmode?r("dev-toolbar"):t._e(),r("div",{staticClass:"separator"}),r("snack-bar",{attrs:{"fading-duration":t.snackbarFadingDuration,"is-visible":t.isSnackbarVisible,text:t.snackbarText,type:t.snackbarType}}),t._t("default")],2)},b=[],h=r("2f62"),g=r("1d9b"),m=r("f628"),v=r("74b5"),y=r("b166"),O=r("de76"),P=r("713f"),_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{devToolbar:!0,disableAnimation:t.disableAnimation,"devToolbar--open":t.showTexts}},[r("div",{staticClass:"devToolbar_toggle devToolbar_icon"},[r("san-icon",{attrs:{name:"settings",size:40},on:{click:t.toggleSidebar}})],1),r("div",{staticClass:"devToolbar_body"},[r("ul",t._l(t.buttons,(function(e){return r("li",{key:e.text},[r("san-button",{staticClass:"secondary",attrs:{secondary:"",icon:e.icon,"icon-size":32,disabled:e.disabled},on:{click:function(t){return e.action()}}},[t._v("\n          "+t._s(e.title)+"\n        ")])],1)})),0)])])},C=[],k=r("52db"),j=r("f121");function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var D={name:"DevToolbar",components:{SanIcon:O["f"],SanButton:O["a"]},props:["disableAnimation"],data:function(){return{showTexts:!0,maxLocationCalls:20,buttonsConfig:[{action:this.generatePerson,text:"Generate Random persons",icon:"male",disabled:!1},{action:this.chooseProduct("KVG",!0),text:"KVG auswählen",icon:null,title:"KVG",categoryId:"KVG",disabled:!0},{action:this.chooseProduct("HOSP",!0),text:"VVG auswählen",icon:null,title:"HOSP",categoryId:"HOSP",disabled:!0},{action:this.chooseProduct("ADDITIONAL",!0),text:"Zusatzvers. auswählen",icon:null,title:"ADD",categoryId:"ADDITIONAL",disabled:!0},{action:this.deleteBasket,text:"Warenkorb löschen",icon:"shopping-cart-remove",disabled:!1},{action:this.showInfo,text:"Basket informationen anzeigen",title:"i",disabled:!1},{action:this.toggleLabels,text:"Label Keys anzeigen",title:"{TXT}",disabled:!1},{action:this.restart,text:"Restart",title:"↺",disabled:!1},{action:this.turnOff,text:"Devmode deaktivieren",title:"OFF",disabled:!1}]}},computed:I({},Object(h["c"])(["activePersonId","address","basketId","categories","contractStartDate","getAllProductsByCategoryId","getCategoryById","getCategoryById","getGroupById","getProductOptionsForPerson","hasProductOptionsAvailable","label","persons"]),{availableProducts:function(){var t=this;return this.activePersonId&&this.hasProductOptionsAvailable?this.buttonsConfig.reduce((function(e,r){var n=r.categoryId;if(!n)return e;var o=t.getAllProductsByCategoryId(n).filter((function(e){return!e.hideInConfigurator&&!t.getGroupById(e.parentKey).enableMedicalOffice})),i=null,a=null;do{var s=Math.floor(Math.random()*o.length);i=o.splice(s,1)[0],a=t.getProductOptionsForPerson(t.activePersonId,i.id)}while(!a.available&&o.length>0);if(!a.available)return e;for(var c={id:i.id,parentKey:i.parentKey,criteria:[]},u=0,d=Object.values(a.criteria);u<d.length;u++){var l=d[u],p=l.options[t.chooseKeyInObject(l.options)],f=l.category,b=p.category;c.criteria.push({criteriaCategory:f,optionCategory:b})}return e[n]=c,e}),{}):{}},buttons:function(){for(var t=this.persons.length>0,e=0;e<this.buttonsConfig.length;e++){var r=this.buttonsConfig[e];r.categoryId&&(r.disabled=!t||Object(c["isEmpty"])(this.availableProducts[r.categoryId]))}return this.buttonsConfig}}),methods:I({},Object(h["b"])(["addProductToBasket","clearLocalStorage","selectCriteriaOption","toggleLabels","trackUI","setActivePerson","setUiSelection","updateContractInformation","updateProductInBasket"]),{generateRandomPersons:function(t){var e=this.persons.length;if(!(e>=5)){for(var r=1,n=Object(c["cloneDeep"])(this.persons),o=0;o<r;o++){var i=Object(k["a"])(this.persons);i.dateOfBirth="".concat(Math.floor(Math.random()*((new Date).getFullYear()-1941)+1945),"-0").concat(Math.floor(9*Math.random())+1,"-01"),Date.parse(i.dateOfBirth)>Date.now()?i.gender="UNBORN":i.gender=Math.round(Math.random())?"MALE":"FEMALE",n.push(i)}this.updateContractInformation({persons:n,location:t,contractStartDate:this.contractStartDate}),this.setActivePerson(n[n.length-1].id)}},generatePerson:function(){var t=this;this.maxLocationCalls>0&&0===this.persons.length?this.$backend.locations.getLocations({query:Math.floor(100*Math.random())+10,type:"INSURANCE"}).then((function(e){e.data.length>0?t.generateRandomPersons(e.data[0]):(t.maxLocationCalls--,t.generatePerson())})).catch((function(t){})):this.persons.length>0&&this.generateRandomPersons(this.address)},deleteBasket:function(){this.updateContractInformation({contractStartDate:this.contractStartDate,location:{},persons:[]})},chooseProduct:function(t,e,r){var n=this;return function(){var r=n.availableProducts[t];n.setUiSelection({categoryId:t,groupId:r.parentKey});var o=!0,i=!1,a=void 0;try{for(var s,c=r.criteria[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,d=u.criteriaCategory,l=u.optionCategory;e?(n.selectCriteriaOption({categoryId:t,criteriaCategory:d,optionCategory:l}),n.trackUI({data:{key:d,value:l},source:t})):n.selectCriteriaOption({productId:r.id,criteriaCategory:d,optionCategory:l})}}catch(p){i=!0,a=p}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}n.addProductToBasket({productId:r.id})}},chooseKeyInObject:function(t){var e=Object.keys(t),r=Math.floor(Math.random()*e.length);return e[r]},restart:function(){this.clearLocalStorage().then((function(){window.location.hash=window.location.hash+"?devmode",window.location.reload(!0)}))},showInfo:function(){console.log("basketId: ".concat(this.basketId)),console.log("sessionId: ".concat(j["a"].sessionId)),alert("basketId: ".concat(this.basketId,"\nseesionId: ").concat(j["a"].sessionId))},toggleSidebar:function(){this.showTexts=!this.showTexts},turnOff:function(){this.$store.commit("SET_UI_PROPERTY",{key:"devmode",value:!1})}})},B=D,x=(r("2b42"),r("2877")),E=Object(x["a"])(B,_,C,!1,null,"090f0e52",null),T=E.exports,M=r("a01a"),L=r("f2ef"),A=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.classes},[t._l(t.recommendations,(function(e,n){return[r("person",{key:n,attrs:{dark:t.isDark,person:e,"tracking-context":t.context}})]}))],2)},N=[],F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.classes},[r("div",{staticClass:"recommendation-person__title"},[t._v(t._s(t.label("recommendation_title",{name:t.person.name})))]),r("div",{staticClass:"recommendation-person__content"},t._l(t.products,(function(e){return r("item",{key:e,staticClass:"product",attrs:{"person-id":t.person.id,"product-id":e,"disable-actions":t.disableActions,"tracking-context":t.trackingContext}})})),1)])},$=[],U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"recommendation-item",attrs:{"data-product-id":t.productId}},[r("div",{staticClass:"recommendation-item__title"},[t._v(t._s(t.product.name))]),r("price",{staticClass:"recommendation-item__price",attrs:{price:t.product.price,suffix:t.label("basket_inclusiveMT")}}),r("div",{staticClass:"recommendation-item__description"},[t._v(t._s(t.product.description))]),r("a",{staticClass:"recommendation-item__link",on:{click:t.toggle}},[t._v(t._s(t.label("product_more_information")))]),t.show?r("sanitas-modal",{attrs:{"close-icon":""},on:{close:t.toggle}},[r("card",{attrs:{"person-id":t.personId,"product-id":t.productId,"tracking-context":t.trackingContext},on:{close:t.toggle}})],1):t._e()],1)},q=[],R=r("fb24"),z=r("f87f");function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){G(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function G(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var H={name:"Recommendation",components:{Card:R["a"],Price:z["a"],SanitasModal:O["l"]},props:{productId:{type:String,required:!0},personId:{type:String,required:!0},disableActions:{type:Boolean,default:!1},trackingContext:{type:String,required:!0}},data:function(){return{show:!1}},computed:K({},Object(h["c"])(["getProductById","getProductContentById","getCriteriaOptionsForPerson","getProductPrice","label"]),{product:function(){var t=this.personId,e=this.productId,r=this.getCriteriaOptionsForPerson(t,e,!0);return K({},this.getProductContentById(e),{},this.getProductById(e),{},{price:this.getProductPrice(t,e,r)})}}),methods:{toggle:function(){this.show=!this.show}}},J=H,W=(r("ed34"),Object(x["a"])(J,U,q,!1,null,"6d261a85",null)),Y=W.exports;function X(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?X(Object(r),!0).forEach((function(e){Q(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Q(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tt={name:"RecommendationPerson",components:{Item:Y},props:{person:{type:Object,required:!0},dark:{type:Boolean,default:!1},trackingContext:{type:String,required:!0}},data:function(){return{}},computed:Z({},Object(h["c"])(["label"]),{products:function(){return Object(c["get"])(this,"person.products",[])},disableActions:function(){return this.dark&&1!==this.products.length},classes:function(){return{"recommendation-person":!0,"recommendation-person--dark":this.dark}}})},et=tt,rt=(r("d7b1"),r("e1ce"),Object(x["a"])(et,F,$,!1,null,"3b014d42",null)),nt=rt.exports;function ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(r),!0).forEach((function(e){at(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function at(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var st={name:"RecommendationList",components:{Person:nt},props:{trackingContext:{type:String,required:!0}},computed:it({},Object(h["c"])(["getPersonById","activePersonId","isAvailableProductForPerson","collectiveContractNumber","getRecommendations","label"]),{context:function(){return"".concat(this.trackingContext,"_Recommendation")},show:function(){return!this.collectiveContractNumber&&!Object(c["isEmpty"])(this.recommendations)},classes:function(){return{"recommendation-list":!0,"recommendation-list--dark":!0}},recommendations:function(){var t=this;return Object(c["reduce"])(this.getRecommendations,(function(e,r,n){if(!t.isDark||t.activePersonId===n){var o=Object(c["reduce"])(r,(function(e,r){return t.isAvailableProductForPerson(n,r)&&e.push(r),e}),[]);if(!Object(c["isEmpty"])(o)){var i=t.getPersonById(n),a=t.personName(i);Object(c["set"])(e,i.order,{id:n,name:a,products:o})}}return e}),{})},isDark:function(){return"Basket"!==this.$route.name}}),methods:{personName:function(t){var e=t.firstName,r=t.lastName,n=t.order,o=e||r?[e,r]:[this.label("person"),n];return o.join(" ")}}},ct=st,ut=(r("3cd3"),Object(x["a"])(ct,A,N,!1,null,"4aa45376",null)),dt=ut.exports,lt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isOutdated?r("sanitas-modal",[t.isUpdating?r("sanitas-loading"):r("modal-content",{staticClass:"outdated"},[r("div",{staticClass:"outdated__description",domProps:{innerHTML:t._s(t.description)}}),r("sanitas-message",{directives:[{name:"show",rawName:"v-show",value:t.startDateUpdated,expression:"startDateUpdated"}],staticClass:"outdated__message",attrs:{icon:"help",text:t.label("persons_contractStartDate_text")}}),r("div",{staticClass:"outdated__actions"},[r("sanitas-button",{directives:[{name:"show",rawName:"v-show",value:t.isCancelable,expression:"isCancelable"}],attrs:{tiny:"",primary:"",type:"button","data-test":"outdated_continueButton"},on:{click:t.cancel}},[t._v("\n        "+t._s(t.label("outdated_button_continue"))+"\n      ")]),r("sanitas-button",{attrs:{tiny:"",primary:!t.isCancelable,secondary:t.isCancelable,"data-test":"outdated_restartButton",type:"button"},on:{click:t.restart}},[t._v("\n        "+t._s(t.label("outdated_button_restart"))+"\n      ")])],1)],1)],1):t._e()},pt=[],ft=r("e3ee"),bt=r("a618"),ht=r("7677"),gt=r("d148");function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(r),!0).forEach((function(e){yt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function yt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ot=!1,Pt={name:"OutdatedModal",components:{SanitasLoading:O["k"],ModalContent:M["a"],SanitasButton:O["a"],SanitasMessage:O["g"],SanitasModal:O["l"]},data:function(){return{isFirstLoad:!1,isUpdating:!1,isOutdated:!1,isCancelable:!1,startDateUpdated:!1,startDate:null,cookieData:{}}},mounted:function(){var t=this,e=s.a.get("sanitasReload");this.cookieData=JSON.parse(e),this.isFirstLoad=Object(c["get"])(this.cookieData,"firstLoad"),this.startDate=this.contractStartDate,this.startInterval(),this.check(),this.$nextTick((function(){t.isOutdated&&t.closeBasket()}))},beforeDestroy:function(){this.stopInterval()},computed:vt({},Object(h["c"])(["activeCollectivePartner","basketForRequest","contractStartDate","hasPersons","timestamp","partnerId","persons","label"]),{description:function(){var t=this.isCancelable?"outdated_short_absence":"outdated_long_absence";return this.label(t)}}),methods:vt({},Object(h["b"])(["updateTimestamp","clearLocalStorage","updateContractInformation","updateSelectedCriteriaForPersons"]),{closeBasket:function(){window.dispatchEvent(new CustomEvent("sanitas-ovp-basket-close"))},startInterval:function(){Ot||(Ot=window.setInterval(this.check,3e5))},isValidStartDate:function(){var t=this.startDate;if(Object(g["a"])(t)){var e=Object(ft["a"])(Object(y["a"])(Object(bt["a"])(new Date,3),d["c"]));if(Object(ht["a"])(t,e))return this.startDate=e,this.startDateUpdated=!0,!1}return!0},restartInterval:function(){this.stopInterval(),this.startInterval(),this.isUpdating=!1,this.isOutdated=!1},stopInterval:function(){window.clearInterval(Ot),Ot=!1},check:function(){if(this.hasPersons){var t=this.timestamp,e=Object(gt["a"])(Object(d["i"])(),t),r=Object(u["a"])(Object(d["i"])(),t);this.isOutdated=e>=2,this.isCancelable=r<=0,this.isOutdated?(this.stopInterval(),this.closeBasket()):this.startInterval()}return this.isOutdated},cancel:function(){this.isValidStartDate()&&(this.isUpdating=!0,this.updateState(),s.a.delete("sanitasReload"))},restart:function(){this.isUpdating=!0;var t=this.partnerId,e=this.activeCollectivePartner,r=s.a.get("sanitasReload");r=JSON.parse(r),Object(c["isEmpty"])(r)&&(r={}),r=vt({},r,{restart:!0,contractNumber:e});var n=Object(c["get"])(r,"outdated",!1);n||(r={partnerId:t}),s.a.set("sanitasReload",JSON.stringify(r),{expires:1}),this.clearLocalStorage().then((function(){var t=window.location.href.replace("#/basket","");try{window.location.replace(t)}catch(e){window.location.assign(t)}window.location.reload(!0)}))},updateState:function(){var t=this,e=this.startDate,r=this.basketForRequest,n=this.persons;if(e===this.contractStartDate)return this.updateTimestamp(),void this.restartInterval();this.isUpdating=!1;var o={persons:n,location:r.address,contractStartDate:e},i=this.activeCollectivePartner;i&&(o.collectivePartner={collectiveContractNumber:i.contractNumber,collectiveChannel:i.channel,masterTreaty:i.masterTreaty}),this.updateContractInformation(o).then((function(){t.updateSelectedCriteriaForPersons(t.persons)})).then((function(){t.restartInterval()}))}}),watch:{basketForRequest:{deep:!0,handler:function(){this.isFirstLoad?this.isFirstLoad=!1:this.updateTimestamp()}}}},_t=Pt,Ct=(r("54bb"),Object(x["a"])(_t,lt,pt,!1,null,"ed22d088",null)),kt=Ct.exports,jt=r("6c55"),wt=r("2d97"),It=r("748a"),St=r("4461"),Dt=r("bfe8"),Bt=r("2585");r("4ff1"),r("8a4e"),r("3ff2");function xt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(u){return void r(u)}s.done?e(c):Promise.resolve(c).then(n,o)}function Et(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){xt(i,n,o,a,s,"next",t)}function s(t){xt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(r),!0).forEach((function(e){Lt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var At="Entry",Nt="Basket",Ft="Configurator",$t="Onboarding",Ut=o["a"].extend({name:"ConfiguratorModule",mixins:[wt["a"]],components:{ConfirmationBasketData:jt["a"],DevToolbar:T,ModalContent:M["a"],OutdatedMessage:kt,RecommendationList:dt,SanitasLoading:O["k"],SanitasModal:O["l"],SnackBar:P["a"],SupportBar:L["a"]},props:{microserviceBaseUrl:{type:String,required:!0},resourceBaseUrl:{type:String,required:!0},language:{type:String,required:!0},contractStartDate:{type:String,required:!0},masterTreaty:{type:String,required:!0},collectiveContractNumber:{type:String},environment:{type:String,required:!0},percentageEmailOnlyForSaveBasket:{type:String},dapUrl:{type:String,required:!0},descriptionElementId:{type:String,default:""}},data:function(){return{config:j["a"],showModal:!1,viewportLabel:this.$currentViewport.label,isDesktop:"desktop"===this.$currentViewport.label,isMobile:"mobile"===this.$currentViewport.label,isIE:!!document.documentMode,isMS:!1!==(document.documentMode||/Edge\//.test(navigator.userAgent)),isProduction:!0,isDevelopment:!1,screens:{basket:Nt,configurator:Ft,onboarding:$t},showBasketModal:!1,source:""}},created:function(){window.router=this._router,Object(St["v"])(),this.initializeBackend(),this.initializeSequenceListener(),this.initializeState(),this.proveDescription()},mounted:function(){var t=this;Object(Bt["a"])("ovp",this.$ovpVersion),window.addEventListener("resize",(function(){window.requestAnimationFrame((function(){var e=t.$currentViewport.label;t.viewportLabel=e,t.isDesktop="desktop"===e,t.isMobile="mobile"===e}))}))},updated:function(){this.proveDescription()},computed:Mt({},Object(h["c"])({basketContractStartDate:"contractStartDate",basketLanguage:"language"}),{},Object(h["c"])(["devmode","allProducts","activePersonId","hasProducts","label","labelsLoaded","hasActivePersonProductRecommendations"]),{},Object(h["d"])("snackbar",{isSnackbarVisible:"isVisible",snackbarFadingDuration:"fadingDuration",snackbarText:"text",snackbarType:"type"}),{initialParameters:function(){var t=this.$route,e=t.query,r=t.params,n=e.language||this.language,o=r.contractNumber||e.collectiveContractNumber||this.collectiveContractNumber,i=r.partnerId,a=r.token,c=e.source,u=s.a.get("sanitasReload");return u=u?JSON.parse(u):{},u.restart&&(i=u.partnerId,o=u.contractNumber,s.a.delete("sanitasReload")),{contractNumber:o,partnerId:i,language:n,token:a,source:c}},hasActivePerson:function(){return!!this.activePersonId},showBasketLink:function(){var t=this.hasActivePerson;return!this.isScreen(Nt)&&t},showRecommendations:function(){return this.activePersonId&&[Nt,Ft].includes(this.$route.name)},classes:function(){return Lt({"ovp-application":!0,"ovp-application--basket":this.isScreen(Nt),"ovp-application--configurator":this.isScreen(Ft),"ovp-application--onboarding":this.isScreen($t),"ovp-application--start":this.isScreen(At),"ovp-application--is-mobile":"mobile"===this.$currentViewport.label},"ovp-application--".concat(this.basketLanguage),!0)},headClasses:function(){return{"ovp-outer__head":!0,"ovp-outer__head--dark":!this.hasActivePerson,"ovp-outer__head--hidden":this.isScreen(Nt)||this.isScreen($t)}},trackingContext:function(){return this.isScreen(Nt)?"Basket":this.isScreen(Ft)?"Configurator":""}}),methods:Mt({},Object(h["b"])(["loadBasket","clearLocalStorage","setContract","setLanguage","setPartnerId","setUiProperty","setBasketVariantA","loadPartnerLabels","resetCollectiveContract","setSelectedCollectiveContractNumber"]),{showBasket:function(){this.isScreen($t)?this.showBasketModal=!0:this.$router.push({name:"Basket"})},isScreen:function(t){return Object(c["get"])(this.$route,"name")===t},initializeBackend:function(){if(!this.$store.$backend){var t=new It["a"]({store:this.$store,microserviceBaseUrl:this.microserviceBaseUrl,resourceBaseUrl:this.resourceBaseUrl});o["a"].use(t),this.$store.$backend=t}},initializeState:function(){var t=this.initialParameters,e=t.token,r=t.contractNumber,n=t.partnerId,o=t.language,i=t.source;if(i&&(this.source=i),this.setLanguage(o),e&&10===e.length)this.tryToLoadBasket(e);else if(r){var a=7===r.length?r:null;Promise.all([this.resetCollectiveContract(this.$options.name),this.setSelectedCollectiveContractNumber(a)]).then(this.reinitializeConfigurator)}else if(n){var s=6===n.length?n:null;Promise.all([this.setPartnerId(s),this.loadPartnerLabels(s)]).then(this.reinitializeConfigurator)}else this.initializeBasket();this.initialDemo()},initializeSequenceListener:function(){Object(Dt["d"])(this.clearLocalStorage)},reinitializeConfigurator:function(){this.$router.push({name:"Configurator"}),this.initializeBasket()},initializeBasket:function(){this.basketContractStartDate&&!Object(c["isEmpty"])(this.allProducts)&&this.activePersonId||this.loadContract(),this.percentageEmailOnlyForSaveBasket&&Number(this.percentageEmailOnlyForSaveBasket)>0&&Math.random()<Number(this.percentageEmailOnlyForSaveBasket)/100&&this.setBasketVariantA()},initialDemo:function(){var t=this.$route.query;(void 0!==t.devmode||window.location.href.indexOf("devmode")>=0)&&this.setUiProperty({devmode:!0})},tryToLoadBasket:function(){var t=Et(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.basketLanguage&&this.basketLanguage===this.language&&this.labelsLoaded||this.setLanguage(this.language),t.next=3,this.loadBasket(e).then((function(){r.source&&"OvpPartnerWidget"===r.source||Object(St["h"])("ovp","OvpBasketReentered"),r.$router.replace("/basket")})).catch((function(){r.$router.replace("/")}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),loadContract:function(){var t=this.$route.query,e=Object(d["k"])(t.contractStartDate||this.contractStartDate);Object(g["a"])(e)&&(e=Object(m["a"])(Object(v["a"])(new Date,1)));var r={contractStartDate:Object(y["a"])(e,d["c"]),masterTreaty:t.masterTreaty||this.masterTreaty};this.setContract(r)},proveDescription:function(){var t=document.getElementById(this.descriptionElementId);t&&(t.hidden=!this.isScreen(At))}}),watch:{"$route.name":function(t){[Nt,$t].includes(t)||this.initializeState()}}}),qt=Ut,Rt=(r("4ede"),Object(x["a"])(qt,f,b,!1,null,null,null)),zt=Rt.exports;r("f06c");function Vt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Kt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vt(Object(r),!0).forEach((function(e){Gt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ht="productConfigurator",Jt="productConfiguratorDescription",Wt=document.getElementById(Ht),Yt=Wt.dataset;new zt({el:Wt,propsData:Kt({},Yt,{descriptionElementId:Jt}),router:p({dapUrl:Yt.dapUrl}),store:n["a"]})},cbb6:function(t,e,r){"use strict";var n=r("78d0"),o=r.n(n);o.a},ce1a:function(t,e,r){},d7b1:function(t,e,r){"use strict";var n=r("f975"),o=r.n(n);o.a},e1ce:function(t,e,r){"use strict";var n=r("3350"),o=r.n(n);o.a},ed34:function(t,e,r){"use strict";var n=r("1021"),o=r.n(n);o.a},f975:function(t,e,r){},f9d4:function(t,e,r){},fb24:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"recommendation-card",attrs:{"data-product-id":t.productId}},[r("product",{staticClass:"product",attrs:{"tracking-context":t.trackingContext,product:t.product,"person-id":t.personId},on:{added:function(e){return t.$emit("close")}}})],1)},o=[],i=r("2f62"),a=r("7747"),s=r("4461");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){d(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={name:"RecommendationCard",components:{Product:a["a"]},props:{productId:{type:String,required:!0},personId:{type:String,required:!0},trackingContext:{type:String,required:!0}},mounted:function(){var t=this.personId,e=this.categoryId,r=this.productId,n=this.trackingContext;Object(s["u"])(t,e,r,n)},computed:u({},Object(i["c"])(["getGroupForProduct","getProductById","getProductContentById","getProductOptionsForPerson","getProductPrice"]),{product:function(){var t=this.personId,e=this.productId,r=u({},this.getProductContentById(e),{},this.getProductById(e),{},this.getProductOptionsForPerson(t,e),{},{price:this.getProductPrice(t,e)},{subProducts:[]});return r},categoryId:function(){var t=this.getGroupForProduct(this.productId);return t&&t.parentKey}})},p=l,f=(r("88ef"),r("2877")),b=Object(f["a"])(p,n,o,!1,null,"650b2479",null);e["a"]=b.exports}});
//# sourceMappingURL=productConfigurator.js.map