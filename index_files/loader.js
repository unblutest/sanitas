// 2020-06-03 15:28:39

!function(){"use strict";Mpathy.versions.Loader="4.22-179";var o,a,c,h=Mpathy.Config,r=Mpathy.constants,d=Mpathy.Tools,u=Mpathy.notify,i=Mpathy.state,s={},t=!1,n=[],l=function(){},p={},f={},y=[],g="https:"===location.protocol,m=10,_={},v=Math.random().toString(36).substr(2,9),M={},b=[],k={},e=[],w=+Date.now(),O=!1,C=[],P=!1,S=[],E=Mpathy.loaded_modules,j={},x=null;function T(e,t,n,a){if("ps"!=e&&(e="s"),!h.domains.socket&&0<Mpathy.sites.length&&z(Mpathy.sites[0]),h.domains.socket){t instanceof Object&&!Array.isArray(t)&&(t=Object.assign({idsite:o?String(o):String(Mpathy.sites[0].idsite),pid:Mpathy.PID||42,vid:Mpathy.getVid(),pn:Mpathy.pagename,url:location.href,user_agent:window.navigator.userAgent,versions:A()},t),t=Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}));var i="//"+h.domains.socket+"/"+e+"?"+t.join("&");d.request({url:i,mode:"GET",retry:0,success:function(){n&&u("SR "+n+" >> "+i),a&&a()}})}}function A(){var e=[];return e.push("Preloader: "+Mpathy.versions.Preloader),e.push("Loader: "+Mpathy.versions.Loader),e.push("Engine: "+(Mpathy.versions.Engine||"NA")),e.push("Polls: "+(Mpathy.versions.Polls||"NA")),e.push("preCC: "+(Mpathy.versions.preCC||"NA")),e.push("mainCC: "+(Mpathy.versions.CC||"NA")),e.push("pollCC: "+(Mpathy.versions.pollCC||"NA")),e.join(" | ")}d.mergeDefaults(r,{ERROR_TRACKING_ALL:1,ERROR_TRACKING_MPATHY:2,POLL_STATUS_DRAFT:1,POLL_STATUS_INACTIVE:2,POLL_STATUS_TESTING:3,POLL_STATUS_LIVE:4,POLL_STATUS_SCHEDULED:5,POLL_COOKIE_ANSWERED:"poll_answered_",POLL_COOKIE_SHOWED:"poll_showed_",POLL_COOKIE_STOP:"poll_stop_",POLL_COOKIE_DICED:"poll_diced_"}),Mpathy.getVersionsString=A;var D=new function(){var e=-1,t=0,a=this;this.profiles={},this.init=function(){Array.isArray(Mpathy.sites)?(t=Mpathy.sites.length-1,Mpathy.hasOwnProperty("pagename")||(Mpathy.pagename=null),Mpathy.sites.forEach(function(e){M[e.idsite]=e}),k.dismissed_profiles=[],k.dismiss_messages=[]):u("m-pathy start fail: Mpathy.sites not found")},this.nextProfile=function(){++e<=t&&a.profile(Mpathy.sites[e].idsite).init()},this.profile=function(e){if(!a.profiles.hasOwnProperty(e)){if(!M.hasOwnProperty(e))throw"Unknown profile #"+e;a.profiles[e]=new L(M[e])}return a.profiles[e]},this.dismissProfile=function(e,t){var n=a.profile(e);return t=t||"Profile dismissed",n.state.status="fail",n.state.message=t,k.dismissed_profiles.push({id:n.idsite,tracking_rate:n.config["recprob_"+d.Device.type],poll_rate:n.config["recprob_polls_"+d.Device.type],message:t}),i.message&&k.dismiss_messages.push("#"+n.idsite+" : "+i.message),n.log("preCC precheck disapproved"+(t?": "+t:".")),a.isOver()?a.selectProfile(n,!0):a.nextProfile(),!1},this.isOver=function(){return null!==Mpathy.selected_profile.idsite||!(e<t)&&Object.keys(a.profiles).every(function(e){return"async"!==a.profiles[e].status})},this.selectProfile=function(e,t){var n=X.get(e.idsite,e.getTrackingCookieName());if(Mpathy.emitConsole("trackingData",{idsite:e.idsite,status:e.state.status,message:e.state.message,ratecheck:e.state.ratecheck_tracking,passiveTracking:e.state.passive,rate:+e.config["recprob_"+d.Device.type],activeTrackingCookie:null===n?null:!!+n,device:d.Device.type,trackingActive:!!e.config.tracking_on,configuratorSetup:e.config.setup||{}}),t)return u("no profile approved"),Mpathy.stat("profile"),Mpathy.trigger("profile.selected",{profile:null}),void z(null);var a=e.config;e.state.status="start",o=e.idsite,s.idsite=o,c=a,X.remember(o,"initial_referer",document.referrer,"session"),a.versions.preCC&&(Mpathy.versions.preCC=a.versions.preCC),Object.keys(a).forEach(function(e){a.hasOwnProperty(e)&&"ignore_keys"==e&&(h.input_anonymisation=a[e]),a.hasOwnProperty(e)&&!Mpathy.hasOwnProperty(e)&&"versions"!==e&&(Mpathy[e]=a[e])}),k.selected_profile=o,z(Mpathy.selected_profile=a),J(),Mpathy.stat("profile"),Mpathy.trigger("profile.selected",{profile:c}),Mpathy.dispatchEvent("profile_selected",{profile:c}),a.tracking_on&&(h.passive_tracking&&u("warn","Passive tracking enabled."),H(),Mpathy.ping("load-tracking")),a.polls_on&&h.poll_module_autoload&&B(a)}};function L(n){if(this.constructor!==L)throw"Invoke with new Profile()";var a=this,i=n.idsite,o="tracking_active_"+i,r=h.tracking_cookie_lifetime,s="tracking_active_polls_"+i,c="session",l={status:"initial",message:null,activate_tracking:!0,ratecheck_tracking:null,activate_polls:!0,ratecheck_polls:null,passive:!1,enabledPolls:[],hasFeedback:!1},p=+X.remember(i,"rate_comparator_"+i,function(){var e=100*Math.random();return u("rate comparator has bee diced to: "+e),e},r);this.idsite=i,this.state=l,this.config=n,this.getTrackingCookieName=function(){return o},this.init=function(){if(!Mpathy.state.consoleOpen||!Mpathy.state.trackingUseDraft)return a.precheck();d.request({url:Mpathy.getPath("endpoints","trackingConfiguration",a.idsite)+"?isDraft",mode:"GET",retry:0,success:function(e){var t=JSON.parse(e);a.config.setup=Object.assign(t.setup,{lastSavedAt:t.last_saved_at}),a.precheck()},failure:function(){D.dismissProfile(i,"Draft Configuration could not be loaded")}})},this.precheck=function(){return n.versions={},a.project=Mpathy.project(i),new RegExp(n.domain,"i").test(location.hostname)?n.devices&&!~n.devices.indexOf(d.Device.type)?D.dismissProfile(i,"Device Excluded"):(Object.keys(n).forEach(function(e){Mpathy.hasOwnProperty(e)&&!["idsite","domain"].includes(e)&&(n[e]=Mpathy[e])}),a.project.isPageBlacklisted()?D.dismissProfile(i,"On Blacklist"):Mpathy.PreCustomCodes.hasOwnProperty(i)?(l.status="pending",Mpathy.PreCustomCodes[i](n,d,h,a.resolve),a.project.applyConfiguratorSetup(),void("pending"===l.status&&(0<a.project.state.pn_map.length?a.project.precheck("start"):a.resolve({activate_tracking:!1,activate_polls:!0})))):D.dismissProfile(i,"Missing preCC")):D.dismissProfile(i,"Domain Mismatch")},this.resolve=function(e,t){if(null!==Mpathy.selected_profile.idsite)return u("Resolved precheck for profile #"+i+" but already started profile #"+Mpathy.selected_profile.idsite),!1;if("object"==typeof e)Object.assign(l,e),l.status="start";else if(!0===e||"start"===e)l.status="start";else{if(!1===e||"fail"===e)return D.dismissProfile(i,t);"async"===e&&(l.status="async")}return"async"===l.status?(a.log("async waiting"),D.nextProfile()):"start"===l.status&&a.decideActivation()?(setTimeout(function(){D.selectProfile(a)},0),!0):D.dismissProfile(i)},this.log=function(e){u("Profile #"+i+" :: "+e)},this.decideActivation=function(){l.activate_tracking=R(l.activate_tracking),l.activate_polls=R(l.activate_polls),l.ratecheck_tracking=function(){var e=+n["recprob_"+d.Device.type];if(null!==l.ratecheck_tracking)return l.ratecheck_tracking;if(!l.activate_tracking||!1===Mpathy.state.testrun)return a.log("tracking rate check skipped"),!1;if(Mpathy.state.testrun)return a.log("testrun enabled"),!0;if(0==e)return a.log("tracking rate is 0"),!1;if(+X.get(i,o))return a.log("positive tracking cookie"),!0;var t=p<=+e;X.set(i,o,+t,r),t&&a.log("positive tracking rate check");return t}(),l.ratecheck_polls=function(){var e=+n["recprob_polls_"+d.Device.type];if(null!==l.ratecheck_polls)return l.ratecheck_polls;if(!l.activate_polls||0==e)return a.log("polls rate check skipped"),!1;if(+X.get(i,s))return a.log("positive polls cookie"),!0;var t=p<=+e;X.set(i,s,+t,c),t&&a.log("positive polls rate check");return t}();var e=l.activate_tracking&&l.ratecheck_tracking,t=l.activate_polls&&l.ratecheck_polls||Mpathy.state.consoleOpen;return t&&(l.enabledPolls=Object.keys(n.questionnaires||{}).filter(function(e){return I(i,e)}),t=0!==l.enabledPolls.length||(a.log("no poll is enabled"),!1)||Mpathy.state.consoleOpen),e||null!==Mpathy.state.testrun||(l.passive=function(){var e=l.passive instanceof Function?l.passive():l.passive;return"feedback"!==e?"always"===e:l.hasFeedback}(),(e=l.passive)&&(h.passive_tracking=!0,l.activate_tracking||(h.load_main_CC=!1))),a.log("tracking "+(e?"enabled":"disabled")),a.log("polls "+(t?"enabled":"disabled")),e||t?(l.status="start",l.message=null,Mpathy.enabled_polls=l.enabledPolls,n.tracking_on=+e,n.polls_on=+t,!0):!(l.status="fail")}}function R(e){return e instanceof RegExp?e.test(location.pathname+location.search):!!e}function I(t,n){var e=D.profile(t);if(e.state.enabledPolls.includes(n))return!0;var a=null;Mpathy.questionnaire_data&&Mpathy.questionnaire_data.hasOwnProperty(n)&&(["trigger"].forEach(function(e){var t=Mpathy.questionnaire_data[n];t.hasOwnProperty(e)&&t.config.hasOwnProperty(e)&&delete t.config[e]}),a=Object.assign({},Mpathy.questionnaire_data[n],Mpathy.questionnaire_data[n].config));var i=a;i=i||(e.config.questionnaires||{})[n];var o="Poll #"+n+" :: ";return"object"!=typeof i?(u(o+"no config found"),!1):U(i)?"0"===X.get(t,r.POLL_COOKIE_DICED+n)?(u(o+"diced cookie is 0"),!1):i.multiple_times||!+X.get(t,"poll_answered_"+n)&&!+X.get(t,"poll_showed_"+n)?!i.after_other&&+X.get(t,"poll_stop_"+t)?(u(o+"other poll was already shown"),!1):~(i.devices||"").split(",").indexOf(d.Device.type)?h.disable_trigger||(i.trigger||[]).some(function(e){return F(e)?0===e.url.length?(u(o+"no trigger url"),!1):N(e.url)?"string"!=typeof e.custom_logic||function(e,t){var n=e+"#"+t;if(f.hasOwnProperty(n))return f[n];if(p.hasOwnProperty(e)){var a=!0===p[e](t);return f[n]=a}return!0}(e.custom_logic,n)?("feedback"===e.trigger_type&&(D.profile(t).state.hasFeedback=!0),u(o+"passed!"),!0):(u(o+"custom logic precheck mismatch"),!1):(u(o+"trigger url mismatch"),!1):(u(o+"trigger device mismatch"),!1)}):(u(o+"device type mismatch"),!1):(u(o+"was already shown"),!1):(u(o+"not in active period"),!1)}function N(e){var t,n,a=location.host+("/"!==location.pathname?location.pathname:""),i=location.host+location.pathname+location.search,o=i+location.hash;for(var r in e)if(e.hasOwnProperty(r))switch(t=e[r][0],n=(e[r][1]||"").replace(/^(https?:)?\/\//,""),t){case"exact":if(n===a||n===i||n===o)return!0;break;case"regexp":if((n=new RegExp(n)).test(a)||n.test(i)||n.test(o))return!0;break;case"start_with":if(0===a.indexOf(n)||0===i.indexOf(n)||0===o.indexOf(n))return!0;break;case"contains":if(~a.indexOf(n)||~i.indexOf(n)||~o.indexOf(n))return!0}return!1}function F(e){return 0<+e["rate_"+d.Device.type]}function U(e){if(e.status===r.POLL_STATUS_TESTING)return i.consoleOpen&&i.pollTestEnabled;if(![r.POLL_STATUS_SCHEDULED,r.POLL_STATUS_LIVE].includes(e.status))return!1;var t=e.show_start,n=e.show_stop;return t&&10===(t+"").length&&(t*=1e3),n&&10===(n+"").length&&(n*=1e3),(!t||t<Date.now())&&(!n||n>Date.now())}function q(e,t,n){Array.isArray(e)||(e=[e]);var a=Mpathy.getVid(),i=a&&(+String(a).slice(-5)+t)%e.length;return"srec"===n?localStorage.setItem("tracking_url_offset_srec",t):localStorage.setItem("tracking_url_offset_rec",t),e[i]}function z(e){var t,n;e=e||Mpathy.sites[0];var a=Number(localStorage.getItem("tracking_url_offset_rec")),i=Number(localStorage.getItem("tracking_url_offset_srec"));t=q(e.rec,a,"rec"),n=q(e.srec,i,"srec"),h.domains.socket=g?n:t}function V(t,e){var n=!1;if(200==e)try{var a=JSON.parse(t);a&&a.success?(u("m-pathy tracking eligibility check successful."),Mpathy.stat("notify","Eligibility check succeded"),n=!0,Mpathy.trigger("poll.user.eligible"),a.vid&&X.set(o,"vid",a.vid)):(u("m-pathy tracking eligibility check failed. Server message: "+a.message),Mpathy.stat("notify","Eligibility check failed: "+a.message))}catch(e){u("m-pathy tracking eligibility check failed. Server response: "+t),Mpathy.stat("notify","Eligibility check failed: "+t)}return X.set(o,"polls_user_eligible_"+o,+n,Date.now()+36e5),Mpathy.poll_user_eligible=n,P=!1,Mpathy.poll_user_eligible}function H(t){h.load_main_CC&&Mpathy.loadCC("mainCC"),E.includes("engine")?t instanceof Function&&t():Mpathy.loadModule("engine",function(e){Mpathy.stats.engine_load_time=e.duration,Mpathy.setProperty("engine.time.load",Mpathy.stats.engine_load_time,"pi","int"),t instanceof Function&&t()})}function B(e){E.includes("polls")?e instanceof Function&&e():void 0!==Mpathy.poll_user_eligible?(h.load_poll_CC&&Mpathy.loadCC("pollCC"),Mpathy.loaded_modules.includes("polls")?e instanceof Function&&e():Mpathy.loadModule("polls",e)):function(n){var e=X.get(o,"polls_user_eligible_"+o);if(n instanceof Function||(n=l),h.poll_preview_on||i.consoleOpen)return Mpathy.poll_user_eligible=!0,Mpathy.trigger("poll.user.eligible"),n(),Mpathy.poll_user_eligible;if(null!==e)return Mpathy.poll_user_eligible=1==+e,Mpathy.poll_user_eligible&&(Mpathy.trigger("poll.user.eligible"),n()),Mpathy.poll_user_eligible;if(P)Mpathy.on("poll.user.eligible",n);else{P=!0;var t={vid:Mpathy.getVid(),sid:o+"",url:Mpathy.formatURL(location.href),referer:Mpathy.formatURL(document.referrer),UA:navigator.userAgent,user_lang:navigator.language,device:d.Device.type,script_versions:"U:"+Mpathy.versions.upload_time+"|"+A()};d.request({endpoint:"CTEH",mode:"POST",option:"json",payload:JSON.stringify(t),retry:0,success:function(e,t){V(e,t)&&n()},failure:V})}}(function(){B(e)})}function K(){setTimeout(function(){for(t=!0;n.length;)n.shift()()},25)}function G(e){e&&n.push(e),t||document.readyState&&~["complete","loaded"].indexOf(document.readyState)?K():G.is_mpt_listener_set||("complete"===document.readyState?K():(document.addEventListener("DOMContentLoaded",K,!1),window.addEventListener("load",K,!1)),G.is_mpt_listener_set=!0)}function W(){setTimeout(function(){for(O=!0;C.length;)C.shift()()},5)}function J(e){e&&C.push(e),O?W():e||(window.opera?window.addEventListener("load",W,!1):window.addEventListener?window.addEventListener("pageshow",W,!1):window.attachEvent("onload",W))}function $(e){if("function"==typeof window.jQuery)return $.tries=0,void e();if($.hasOwnProperty("tries")){if(20<$.tries++)return void u("mpathy fail: jQuery didn't load after 5s waiting, cancelling callback")}else $.tries=0;setTimeout($,250,e)}Mpathy.setCustomLogicPrecheck=function(e,t){"function"==typeof t?p[e]=t:(u("warn","setCustomLogicPrecheck no valid callback given"),p[e]=function(){return!1})},Mpathy.setInterceptor=function(e,t,n){null===t&&(t="__global"),y.hasOwnProperty(e)||(y[e]={}),y[e][t]=n},Mpathy.removeInterceptor=function(e,t){null===t&&(t="__global"),y.hasOwnProperty(e)&&delete y[e][t]},Mpathy.callInterceptor=function(e,t,n){var a;y[e]&&(null!==t&&"function"==typeof y[e][t]&&(n=void 0===(a=y[e][t](n))?n:a),"function"==typeof y[e].__global&&(n=void 0===(a=y[e].__global(n))?n:a));return n},Mpathy.addURLHandler=function(e){S.push(e)},Mpathy.resetURLHandler=function(){S=[]},Mpathy.formatURL=function(e){var t,n;for(t=0,n=S.length;t<n;t++)e=S[t](e,d.charAnonymizer);return e},s.generatePid=function(e){!e&&window.mpathy_external_pid&&/^\d{19}$/.test(window.mpathy_external_pid)?Mpathy.PID=window.mpathy_external_pid:Mpathy.PID=+Date.now()+(Math.floor(9e5*Math.random())+1e5).toString()},s.resetErrorReportTriesCount=function(){m=10},s.switchTrackingServer=function(){var e=g?"srec":"rec",t=c&&c[e];if(!Array.isArray(t))return u("warn","No URLs for switching available");var n=localStorage.getItem("tracking_url_offset_"+e),a=q(t,Number(n)+1,e);h.domains.socket=a,u("warn","Switching to URL "+a+" out of available URLs: "+t)},Mpathy.ping=function(e,t){try{if(t||~[].indexOf(btoa((location.hostname.match(/\w*\.\w*$/)||[])[0]))){var n=("http:"===location.protocol?"http://rec":"https://srec")+".m-pathy.com/ps?",a=Mpathy.jsonDOMData.lastSnapshot,i={type:"ping",idsite:Mpathy.idsite||42,pid:Mpathy.PID||42,url:location.href,user_agent:navigator.userAgent,msg:JSON.stringify({type:e,uid:v}),dom_snapshot_size:a?JSON.stringify(a).length:-1},o=Object.keys(i).map(function(e){return e+"="+encodeURIComponent(i[e])}),r=new XMLHttpRequest;r.open("GET",n+o.join("&"),!0),r.send(null)}}catch(e){}},Mpathy.getVid=function(){var e=X.get(o,"vid");return e||(e=String(Date.now())+(Math.floor(9e4*Math.random())+1e4),X.set(o,"vid",e,730)),e},Mpathy.trackMe=function(e){var t=void 0===e||!!e;d.setCookie("testrun",+t),Mpathy.sites.forEach(function(e){t||(X.set(e.idsite,"tracking_active_"+e.idsite,0),X.set(e.idsite,"tracking_active_polls_"+e.idsite,0))});var n=document.createElement("div");return n.setAttribute("style","position:absolute;top:20px;left:20px;padding:5px 20px 10px;background-color:#fff;font:30px/43px Verdana;box-shadow:azure 0px 0 15px;border-radius:5px;"),n.innerHTML="m-pathy tracking "+(t?"✔️":"❌")+'<div style="text-align:center;font-size:10px;line-height:10px;">Seite wird neugeladen...</div>',document.body.appendChild(n),clearTimeout(a),a=setTimeout(function(){location.reload()},50),Mpathy},Mpathy.trackMePolls=function(e){void 0===e&&(e=!0),d.setCookie("testrun_polls",+e),location.reload()},Mpathy.setDebug=function(e,t){return void 0===e&&(e=!0),e?void 0===t&&(t=!0):t=!1,X.set(0,"debug",Number(!!e)+Number(!!t)),clearTimeout(a),a=setTimeout(function(){location.reload()},50),Mpathy},Mpathy.showConsole=function(e){(e=void 0===e||!!e)?d.setCookie("console",1):d.removeCookie("console"),location.reload()},Mpathy.emitConsole=function(e,t){Mpathy.console&&Mpathy.console.initialized?Mpathy.console.emit(e,t):Mpathy.emitConsoleCache.push({event:e,payload:t})},Mpathy.require=function(e,t){"string"==typeof e&&(e=[e]);for(var n,a=0,i=function(){++a==e.length&&t&&t(c,d,h)},o=0,r=e.length;o<r;o++)switch(n=e[o],e[o]){case"domload":case"event.domload":G(i);break;case"event.jquery-available":$(i);break;case"engine":H(i);break;case"polls":B(i);break;default:d.injectScript(Mpathy.getPath("static","js_modules")+n+".js",i)}},Mpathy.stat=function(){if(window.MpathyStatsTrap){for(;e.length;)window.MpathyStatsTrap.apply(window,e.shift());window.MpathyStatsTrap.apply(window,arguments)}else e.push(arguments)},Mpathy.fireLocalEvent=function(e,n,t){var a=[];return"object"!=typeof n||n.type||(n.type=e),_[e]&&_[e].forEach(function(e){var t=e(n);void 0!==t&&a.push(t)}),t&&Mpathy.dispatchEvent(e,n),a},Mpathy.dispatchEvent=function(e,t,n){if("function"==typeof document.createEvent){"object"!=typeof n&&(n={}),n.noprefix||/^mpt[_.]/.test(e)||(e="mpt_"+e);var a,i=document.createEvent("Event");if(i.initEvent(e,!0,!0),t)for(a in t)t.hasOwnProperty(a)&&"type"!=a&&(i[a]=t[a]);("object"==typeof n.target&&n.target.dispatchEvent?n.target:document).dispatchEvent(i)}},Mpathy.listenToLocalEvent=function(e,t){_[e]?_[e].push(t):_[e]=[t]},Mpathy.unlistenLocalEvent=function(e,t){if(_[e])for(var n=0,a=_[e].length;n<a;n++)if(_[e][n]==t)return void delete _[e][n]},Mpathy.on=Mpathy.listenToLocalEvent,Mpathy.off=Mpathy.unlistenLocalEvent,Mpathy.trigger=Mpathy.fireLocalEvent,Mpathy.setMMSegments=function(e){var t=e.split("=");t[0]&&t[1]?E.includes("engine")?Mpathy.setProperty(t[0],t[1],"session"):Mpathy.on("engine_loaded",function(){Mpathy.setProperty(t[0],t[1],"session")}):u("Maxymizer segment "+e+" isn't set - format fail.")},Mpathy.project=function(e,t){var n=D.profiles[e];if(!n)throw"Unknown profile: "+e;return Mpathy.Projects.hasOwnProperty(e)||(Mpathy.Projects[e]=function(o){var r={},s=r.state={pn_map:[],rate_map:[],scopes:[],setupApplied:!1};return r.matcher={pagename:function(e){return function(){return d.matchString(e,x)}},url:function(t,n){return function(){var e=location.pathname;return n&&(e+=location.search),d.matchString(t,e)}},conditions:function(e,t){return(0,r.matcher[t?"all":"any"])(e.map(function(e){return function(){return d.resolveCondition(e)}}))},visible:function(e){return function(){return d.isVisible(e)}},exists:function(e){return function(){return 0<d.resolveNodes(e).length}},contains:function(e,t){return function(){return d.resolveNodes(e).some(function(e){return d.matchString(t,e.textContent)})}},all:function(e){return function(){return e.every(r.callMatcher)}},one:function(e){return u("warn","matcher.one() is deprecated use matcher.any() instead"),function(){return e.some(r.callMatcher)}},any:function(e){return function(){return e.some(r.callMatcher)}},not:function(e){return function(){return!r.callMatcher(e)}}},r.version=function(e,t){c&&c.idsite?Mpathy.versions[e]=t:o.config.versions[e]=t},r.pagename=function(e,t){t="function"==typeof t?t:r.matcher.url(t),s.pn_map.push({pagename:e,matcher:t})},r.rate=function(e,t,n){e="function"==typeof e?e:r.matcher.pagename(e),s.rate_map.push({matcher:e||!1,rate:t||0,absolute:!!n})},r.pollTriggerPrecheck=function(e,t){Mpathy.setCustomLogicPrecheck(e,t)},r.precheck=function(e){var t;if(void 0===e||!0===e||"start"===e)e={};else if(!1===e)return o.resolve("fail");if(e instanceof Function){var n,a=e.call();if(["object","boolean"].includes(typeof a))return r.precheck(a);o.resolve("async");var i=setInterval(function(){if((a=e.call())instanceof Object||!0===a)return clearInterval(i),clearTimeout(n),r.precheck(a)},h.async_precheck_interval);return n=setTimeout(function(){clearInterval(i),u("Async precheck timeout for #"+o.idsite),o.resolve("fail")},h.async_precheck_timeout),!1}return this.applyConfiguratorSetup(),t=e.hasOwnProperty("pagename")?e.pagename||null:r.getPagename()||null,0<s.rate_map.length&&r.applyRates(),e=Object.assign({activate_tracking:null!==t,activate_polls:!0},e||{}),!!o.resolve(e)&&(h.enable_projects=!0)},r.getPagename=function(){var t=null;return Mpathy.unmapped_pagename=!1,s.pn_map.some(function(e){if(e.pagename instanceof Function?t=e.pagename()||null:r.callMatcher(e.matcher)&&(t=e.pagename||null),null!==t)return!0}),null!==t&&0<s.scopes.length&&s.scopes.forEach(function(e){e.isMatching()&&(t=e.applyPagenameModifier(t),x=t)}),x=t},r.applyRates=function(){var e=this.state.rate_map.find(function(e){return r.callMatcher(e.matcher)});if(e){var t="object"==typeof e.rate?+e.rate[d.Device.type]:+e.rate,n=o.config["recprob_"+d.Device.type];e.absolute?t=Math.min(t,n):t*=n,o.config["recprob_"+d.Device.type]=t}},r.callMatcher=function(e){return e instanceof Function?e():!!e},r.isPageBlacklisted=function(){var e=o.config.setup;return!(!e||!Array.isArray(e.blacklist))&&e.blacklist.some(d.resolveCondition)},r.applyConfiguratorSetup=function(){var e=o.config.setup;if("object"==typeof e&&!s.setupApplied){s.setupApplied=!0;var t=e.config||{};Array.isArray(e.pagenames)&&e.pagenames.forEach(function(e){r.pagename(e.name,r.matcher.conditions(e.conditions,e.matchAll))}),"global"===t.trackingMode&&r.pagename(function(){return Mpathy.unmapped_pagename=!0,"documentTitle"===t.autoPagename?document.title:location.pathname}),Array.isArray(e.rates)&&e.rates.forEach(function(e){r.rate(r.matcher.conditions(e.conditions,e.matchAll),{desktop:e.desktop||0,tablet:e.tablet||0,phone:e.phone||0},!0)}),t.defaultRates&&r.rate(/.*/,{desktop:t.defaultRates.desktop||0,tablet:t.defaultRates.tablet||0,phone:t.defaultRates.phone||0},!0)}},r}(n)),t instanceof Function&&t(Mpathy.Projects[e]),Mpathy.Projects[e]};var X=new function(){var p=this;function u(e){var t=encodeURIComponent(h.cookie_prefix+e),n=document.cookie.match(new RegExp("(?:^|;\\s?)"+t+"=([^;$]+)"));return n?a(t+"="+n[1]):null}function f(e){if("session"===e)return e;var t=Date.now()+d.days2ms(h.max_cookie_lifetime);return void 0===e&&(e=h.default_cookie_lifetime),-1===e&&(e=t),e<1495036186449&&(e=Date.now()+d.days2ms(e)),Math.min(e,t)}function e(){(document.cookie||"").split(/;\s?/g).map(a).filter(function(e){return null!==e&&!e.isLegacyCookie}).forEach(function(e){p.set(null,e.name.replace(h.cookie_prefix,""),e.value,e.expiry,null,null,!0)})}function a(e){var t=e.match(new RegExp("^("+h.cookie_prefix+"[^=]+)=(.*?)(?:\\|(\\d+|session))?$"));return t?{name:decodeURIComponent(t[1]),expiry:t[3]||f(h.default_cookie_lifetime),value:decodeURIComponent(t[2]),isLegacyCookie:!t[3]}:null}this.cookies={},this.initialized=!1,this.init=function(){this.initialized||(this.refreshInterval=setInterval(e,h.cookie_refresh_interval),e(),this.initialized=!0)},this.set=function(e,t,n,a,i,o,r){if(!o){var s=location.hostname;o=s.split(".").length>h.cookie_domain_range?s.split(".").slice(-h.cookie_domain_range).join("."):s}var c=u(t);c&&r&&(a=c.expiry||h.default_cookie_lifetime),a=f(a);var l=encodeURIComponent(h.cookie_prefix+t)+"="+encodeURIComponent(n)+"|"+a;return document.cookie=l+("session"!==a?";expires="+function(e){var t=Date.now()+6048e5;return new Date(t<e?t:e).toGMTString()}(a):"")+(i?";path="+i:";path=/")+(o?";domain="+o:"")+(function(){var e=navigator.userAgent;if(e.includes("CPU iPhone OS 12")||e.includes("iPad; CPU OS 12"))return!0;if(e.includes("Safari")&&e.includes("Macintosh; Intel Mac OS X 10_14")&&e.includes("Version/"))return!0;if(e.includes("Chrome/5")||e.includes("Chrome/6"))return!0;return!1}()?"":";samesite=none")+(g?";secure":""),p.cookies[t]={value:String(n),expiry:a},n},this.remove=function(e,t){p.set(e,t,0,Date.now()),delete p.cookies[t]},this.get=function(e,t){var n=u(t);return n&&n.expiry&&n.expiry<Date.now()?null:n?n.value:null},this.remember=function(e,t,n,a){var i=p.get(e,t);return null===i&&(i="function"==typeof n?n():n,p.set(e,t,i,a)),i},this.reset=function(n,a,e){document.cookie.split(/;\s?/g).forEach(function(e){var t=e.split("=");a.test(t[0])&&X.remove(n,t[0].substr(4))}),e&&location.reload()}};function Y(t){if(this.constructor!==Q)throw"call FlatState with new";var n=this;Object.defineProperty(n,"__FlatState__",{value:{state:{},watcher:{},globalWatcher:[]}}),Object.keys(t||{}).forEach(function(e){n.set(e,t[e])})}function Q(){this.set=function(e,t){var a=this;a.hasOwnProperty(e)||Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){return a.__FlatState__.state[e]},set:function(t){var n=a.__FlatState__.state[e];a.__FlatState__.state[e]=t,(a.__FlatState__.watcher[e]||[]).forEach(function(e){e(t,n)}),a.__FlatState__.globalWatcher.forEach(function(e){e(a)})}}),this.__FlatState__.state[e]=t},this.watch=function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null),null===e?this.__FlatState__.globalWatcher.push(t):(this.__FlatState__.watcher.hasOwnProperty(e)||(this.__FlatState__.watcher[e]=[]),this.__FlatState__.watcher[e].push(t)),n&&t(null===e?this:this.__FlatState__.state[e]);var a=this;return function(){a.unwatch(e,t)}},this.unwatch=function(e,t){var n=this.__FlatState__.watcher[e].indexOf(t);~n&&this.__FlatState__.watcher[e].splice(n,1)}}Y.prototype=new Q,Mpathy.dispatchEvent("mpt.loader.init"),function(){if(Mpathy.ping("init"),h.cookie_prefix||(h.cookie_prefix="mpt_"),d.days2ms=function(e){return 864e5*e},d.dice=function(e,t,n){return t=+t,isNaN(t)||"number"!=typeof t||0===t?(u("dice rate: "+e+" rate: 0"),!1):(n=void 0!==n?+n:100*Math.random(),"object"==typeof Mpathy.dicedRates&&(Mpathy.dicedRates[e]=n),u("dice rate: "+e+" rate: "+t+" diced rate: "+n),n<=t)},d.assertObjPath=function(t,e,n){if(!t)return!1;if("string"==typeof t)n=e,e=t,t=window;else if("object"!=typeof t)return!1;return!!e.split(".").every(function(e){return Boolean(t=t[e])})&&(void 0===n||t==n)},d.resolveCondition=function(e){return"object"==typeof e&&("url"===e.type?d.matchUrl(e.comparator,e.value):"pagename"===e.type?d.matchPagename(e.comparator,e.value):"selector"!==e.type||d.matchSelector(e.selector,e.comparator,e.value))},d.arrayUniq=function(n){return n.filter(function(e,t){return n.indexOf(e)==t})},d.matchUrl=function(t,n){var e=location.pathname,a=e+location.search,i=a+location.hash,o=[e,a,i];if(n=(n||"").replace(/^(https?:)?\/\//,""),/^www\./.test(n))o.push("www."+location.host+e),o.push("www."+location.host+a),o.push("www."+location.host+i);else{var r=location.host.replace(/^www\./,"");o.push(r+e),o.push(r+a),o.push(r+i)}return o.push(location.host+e),o.push(location.host+a),o.push(location.host+i),d.arrayUniq(o).some(function(e){return d.matchComparator(t,n,e)})},d.matchPagename=function(e,t){return d.matchComparator(e,t,x)},d.matchSelector=function(e,t,n){if("visible"===t)return d.isVisible(e);var a=d.resolveNodes(e);return"exists"===t?0<a.length:a.some(function(e){return d.matchComparator(t,n,e.textContent)})},d.matchComparator=function(e,t,n){return"regexp"!==e?"contains"===e?!!~n.indexOf(t):"start_with"===e?0==~n.indexOf(t):"exact"===e?n===t:void 0:new RegExp(t).test(n)},d.observeMutations=function(){u("warn","observeMutations called before engine loaded")},d.onDOMNodeInserted=function(){u("warn","onDOMNodeInserted called before engine loaded")},d.getCookie=function(e){return X.get(null,e)},d.setCookie=function(e,t,n,a,i){return X.set(null,e,t,n,a,i)},d.removeCookie=function(e){return X.remove(null,e)},location.search.replace("?","").split("&").forEach(function(e){var t=e.split("=");try{t[1]=decodeURIComponent(t[1])}catch(e){u("Search parameter is not using standard URI and cannot be decoded")}t[1]=t[1]&&t[1].replace(/</g,"&lt;").replace(/>/g,"&gt;"),j[t[0]]=t[1]||null},{}),d.getSearchParam=function(e,t){return void 0===t&&(t=null),j.hasOwnProperty(e)?j[e]:t},d.charAnonymizer=function(e,t){return t&&t instanceof RegExp?e.replace(t,function(){var e=[].slice.call(arguments,1,arguments.length-2),t=arguments[0];return e.forEach(function(e){t=t.replace(e,d.charAnonymizer(e))}),t}):String(e).replace(/([\s\S]*?)(&#?\w+;|$)/g,function(e,t,n){var a,i,o,r=t.split("");for(i=0,o=r.length;i<o;i++)a=r[i],/\s/.test(a)||(/\u00E4|\u00F6|\u00FC|\u00DF/.test(a)?a="u":/\u00C4|\u00D6|\u00DC/.test(a)?a="U":/[a-z]|[\u0080-\uFFFF]/.test(a)?a="x":/[A-Z]/.test(a)?a="X":/\d/.test(a)&&(a="0")),r[i]=a;return r.join("")+n})},d.getImagePlaceholder=function(e){var t=e.getBoundingClientRect();return"https://insight.m-pathy.com/domtree/placeholder/"+Math.round(t.width)+"x"+Math.round(t.height)+".png"},d.trackByDeviantRate=function(e,t,n,a){var i=e["recprob_"+d.Device.type],o=e.idsite;if(!(0<+t&&new RegExp("mpt_tracking_active_"+o+"=1").test(document.cookie))&&(e["recprob_"+d.Device.type]=n?i*t:100*t,a)){if(X.get(o,"recprob."+a))return;X.set(o,"recprob."+a,1,h.tracking_cookie_lifetime),X.remove(o,"tracking_active_"+o)}},d.applyRateMap=function(e,t,n){var a;if(null!==n)for(var i in t)if(t.hasOwnProperty(i))if((a=Object.assign({relative:!0},t[i])).hasOwnProperty("rate")&&a.hasOwnProperty("pn")){if(d.matchString(a.pn,n)){if("function"==typeof a.callback&&1==!a.callback())continue;var o="object"==typeof a.rate?a.rate[d.Device.type]:a.rate;"number"!=typeof o&&(u("warn","Invalid rate in rate_map: "+o),o=0),Mpathy.apply_map_rate=o,d.trackByDeviantRate(e,o,a.relative,a.ns);break}}else u("warn","rate_map entry needs atleast 'rate' and 'pn' property")},d.matchString=function(e,t){if("string"==typeof e)return e===t;if(e instanceof RegExp)return e.test(t);if(Array.isArray(e))for(var n in e)if(e.hasOwnProperty(n)&&d.matchString(e[n],t))return!0;return!1},d.elementIsVisible=function(e){return"string"==typeof e&&(e=document.querySelector(e)),Boolean(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects&&e.getClientRects().length))},d.isVisible=function(e){return d.resolveNodes(e).some(function(e){return d.elementIsVisible(e)})},d.createElement=function(e,n,t,a){var i=document.createElement(e);if("object"!=typeof n&&(n={}),n.class instanceof Function){var o={};n.class=n.class(o)||o}return"string"==typeof n.class?i.className=n.class:(n.class instanceof Object&&!Array.isArray(n.class)&&(n.class=Object.keys(n.class).filter(function(e){return!!n.class[e]})),Array.isArray(n.class)&&(i.className=n.class.join(" "))),delete n.class,n.events instanceof Object&&Object.keys(n.events).forEach(function(e){i.addEventListener(e,n.events[e])}),delete n.events,n.style instanceof Object&&Object.keys(n.style).forEach(function(e){i.style[e]=n.style[e]}),delete n.style,Object.keys(n).forEach(function(e){var t=n[e];t instanceof Function&&(t=t()),null!=t&&!1!==t&&i.setAttribute(e,!0===t?"":t)}),["string","number"].includes(typeof t)?i.innerHTML=t:Array.isArray(t)&&t.forEach(function(e){["string","number"].includes(typeof e)&&(e=document.createTextNode(e)),e instanceof Node&&i.appendChild(e)}),(a instanceof Element||a instanceof DocumentFragment)&&a.appendChild(i),i},d.toggleClass=function(e,t,n){var a=e.classList.contains(t);(n=void 0===n?!a:n)&&!a?e.classList.add(t):!n&&a&&e.classList.remove(t)},d.resolveNodes=function(e,t){var n,a=document;return e instanceof Function&&(e=e()),n=e instanceof NodeList?e:e instanceof Node||e instanceof Document||e instanceof Window?[e]:(Array.isArray(e)&&(a=e[0],e=e[1],a instanceof Function&&(a=a())),a.querySelectorAll(e)),t?n[0]:Array.from(n)},d.Browser={isIE11:0<navigator.userAgent.indexOf("Trident/"),IE_version:-1<navigator.userAgent.indexOf("Trident/")?navigator.userAgent.match(/(?:msie |rv:)(\d+)/i)[1]:0},d.Device=function(){var e=!1,t=!1,n=!1,a=navigator.userAgent;return/((i|view|touch)pad|lenovo|tablet(?! pc)|bolt|xoom|playbook|kindle|gt-p|sch-i|sch-t|mz609|mz617|mid7015|tf101|g-v|ct1002|transformer|silk|tab|nexus (7|\d{2}))\b/i.test(a)||/android/i.test(a)&&!/mobile/i.test(a)?n=e=!0:/(up.browser|up.link|mmp|symbian|smartphone|midp|wap|webos|galaxy|phone|pocket|psp|treo|android|mobile|240x320|400X240|nitro|nokia|portalmmm|proxinet|blackberry|palm|series40|series60|s60|sonyericsson|e10i|samsung|nexus|htc|desire|ipod|itunes|vodafone|wap-|wapi|wapa|wapp)/i.test(a)&&(t=e=!0),{is_mobile:e,is_phone:t,is_tablet:n,is_touch_enabled:"ontouchstart"in document,type:t?"phone":n?"tablet":"desktop"}}(),d.is_mobile=d.Device.is_mobile,d.is_iOS=~navigator.userAgent.indexOf("like Mac OS"),d.request=function(n){var a=localStorage.getItem(g?"tracking_url_offset_srec":"tracking_url_offset_rec"),i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&200===i.status&&(n.retry=0,"function"==typeof n.success&&n.success(i.responseText,i.status))},i.onerror=function(){var e=c&&c[g?"srec":"rec"];if(!Array.isArray(e))return u("warn","No rec/srec Urls available");if(n.retry<10){n.retry+=1;var t=localStorage.getItem(g?"tracking_url_offset_srec":"tracking_url_offset_rec");a===t&&s.switchTrackingServer(),[].concat(g?c.srec:c.rec).some(function(e){var t=new RegExp("^//"+e);if(n.url&&n.url.match(t))return n.url=n.url&&n.url.replace(e,Mpathy.Config.domains.socket),!0}),d.request(n)}else 10<=n.retry&&"function"==typeof n.failure&&n.failure(i.status)};var e=n.url;n.endpoint&&(e=Mpathy.getPath("endpoints",n.endpoint)),i.open(n.mode,e,!0),"json"===n.option?i.setRequestHeader("Content-Type","application/json; charset=utf-8"):"override"===n.option&&i.overrideMimeType("text/plain;charset=UTF-16");try{i.send(n.payload||null)}catch(e){u("warn","Failed to send PostRequest")}},d.throttle=function(e,t){var n=!1;return function(){n||(e.apply(null,arguments),n=!0,setTimeout(function(){n=!1},t))}},d.debounce=function(t,n){var a;return function(){var e=arguments;clearTimeout(a),a=setTimeout(function(){t.apply(null,e)},n)}},function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a){a=Object(a);for(var i=Object.keys(a),o=0,r=i.length;o<r;o++){var s=i[o],c=Object.getOwnPropertyDescriptor(a,s);void 0!==c&&c.enumerable&&(t[s]=a[s])}}}return t}});String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)});Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],i=0;i<n;){var o=t[i];if(e.call(a,o,i,t))return i;i++}return-1},configurable:!0,writable:!0});Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],i=0;i<n;){var o=t[i];if(e.call(a,o,i,t))return o;i++}},configurable:!0,writable:!0});Array.from||(Array.from=function(){function p(e){return"function"==typeof e||"[object Function]"===t.call(e)}function u(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)}var t=Object.prototype.toString,n=Math.pow(2,53)-1;return function(e,t,n){var a=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,o=1<arguments.length?t:void 0;if(void 0!==o){if(!p(o))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(i=n)}for(var r,s=u(a.length),c=p(this)?Object(new this(s)):new Array(s),l=0;l<s;)r=a[l],c[l]=o?void 0===i?o(r,l):o.call(i,r,l):r,l+=1;return c.length=s,c}}());Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),a=n.length>>>0;if(0==a)return!1;var i,o,r=0|t,s=Math.max(0<=r?r:a-Math.abs(r),0);for(;s<a;){if((i=n[s])===(o=e)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;s++}return!1}})}(),function(){h.autostart=!1,h.async_precheck_interval=1e3,h.async_precheck_timeout=1e4,h.cookie_refresh_interval=6e4,h.beforeunload_socket_close=!0,h.check_pi_restart_delay=null,h.check_pi_prevent_active_element=!1,h.css_store={".":"server"},h.cookie_domain_range=/(com?|org)\.\w+$/.test(document.domain)?3:2,h.custom_poll_config={},h.disable_events_logging=[4,9,27],h.disable_key_events=!1,h.dom_anonymisation_config=null,h.dom_anonymisation_config_exception=!1,h.email_anonymisation=!0,h.attribute_allowed_regex=null,h.enable_projects=!1,h.event_attribute_anonymisation=!1,h.form_identifier=void 0,h.full_page_masking=!1,h.full_page_masking_exception="",h.handle_js_errors=r.ERROR_TRACKING_MPATHY,h.heatmaps_excluded_elements="",h.ignore_keys_exceptions=null,h.ignore_mutations_config=null,h.input_anonymisation=!0,h.input_anonymisation_exceptions="",h.instant_events_registration=!0,h.load_main_CC=!0,h.load_poll_CC=!0,h.poll_module_autoload=!0,h.poll_preload_base_css=!0,h.poll_preview_on=!1,h.prepareFocusEvent=function(e){return e},h.privacy_elements="",h.prop_default_yes="ja",h.prop_default_no="nein",h.remove_script_contents=!0,h.removable_elements="",h.removable_attributes=["onload","onunload","onchange","onfocus","onclick","onselect","onmouseover","onmousemove","onmouseout","onblur","onkeydown","onkeyup","onkeypress","onenter","onsubmit","onmouseenter","onmouseleave","ontouchstart","ontouchmove","data-com\\.onepassword\\.iv","data-com\\.agilebits\\.onepassword\\.user-edited","data-com\\.agilebits\\.onepassword\\.initial-value"],h.self_hosting_bundle=!1,h.send_loader_debug_data=!1,h.stop_on_translation=!0,h.tag_hovered_elements="",h.default_cookie_lifetime=14,h.tracking_cookie_lifetime=30,h.max_cookie_lifetime=730,h.disable_trigger=!1,h.passive_tracking=!1,h.paths.module.lzstring="//%CDN%/js_modules/lz-string.js",h.paths.endpoints={pollAnswer:"//%SOCKET%/prh",CTEH:"//%SOCKET%/cteh",trackingConfiguration:"//%PREVIEW%/site/%IDSITE%/config"},h.paths.static={mpt_stats:"//%CDN%/mpt_stat.js",js_modules:"//%CDN%/js_modules/",consoleScript:"//%CDN%/console/console.js",consoleFrame:"//%CDN%/console/console.html",pollBase:"//%CDN%/modules/%VERSION%/poll.base.css",pollLayout:"//%CDN%/css/"};var e=d.getCookie("console_host");e&&(h.paths.static.consoleScript=h.paths.static.consoleScript.replace("%CDN%",e),h.paths.static.consoleFrame=h.paths.static.consoleFrame.replace("%CDN%",e));var t=Mpathy.test_environment;t=t||"tracking.m-pathy.com";h.paths.static.mpt_stats=h.paths.static.mpt_stats.replace("%CDN%",t)}(),Mpathy.versions=new Y(Mpathy.versions),Mpathy.constants=r,Mpathy.dicedRates={},Mpathy.Share={},Mpathy.Loader=s,Mpathy.ProfileIterator=D,Mpathy.Persister=X,Mpathy.Projects={},Mpathy.debug_messages=[],Mpathy.mode="loader",Mpathy.FlatState=Y,Mpathy.state=i=new Y(Object.assign({consoleMinimized:!1,consoleActiveTab:"survey",pollTestEnabled:i.consoleOpen,pollSendData:!1,trackingSendData:!1,trackingUseDraft:!0},JSON.parse(localStorage.getItem("mpt_state")||"{}"),i)),Mpathy.is_tracking=!1,Mpathy.stats=k,Mpathy.versions.upload_time="2020-06-03 15:28:39",Mpathy.enabled_polls=[],Mpathy.newPI=l,Mpathy.newProtoPI=l,Mpathy.recordMutation=l,Mpathy.setProperty=l,Mpathy.stop=l,Mpathy.checkPollTriggerUrl=N,Mpathy.checkPollTriggerDevice=F,Mpathy.checkPollActivePeriod=U,Mpathy.isPollEnabled=I,Mpathy.emitConsoleCache=[],Mpathy.unmapped_pagename=!1,s.domains=h.domains,G(),function(){if(!h.self_hosting_bundle)return;var e=document.querySelector('SCRIPT[src*="'+h.self_hosting_bundle+'"]');if(e){var t=decodeURIComponent(e.src.substr(0,e.src.lastIndexOf("/")+1));h.domains.cdn=t}}(),Mpathy.state.watch(function(e){var t={};e.consoleOpen&&(t.consoleMinimized=e.consoleMinimized,t.consoleActiveTab=e.consoleActiveTab,t.pollTestEnabled=e.pollTestEnabled,t.pollSendData=e.pollSendData,t.trackingUseDraft=e.trackingUseDraft,t.trackingSendData=e.trackingSendData),localStorage.setItem("mpt_state",JSON.stringify(t))}),i.debug){u("Welcome to m-pathy tracking! MpathyLoader ["+Mpathy.versions.Loader+"] is starting your session");var e=document.createElement("script");e.type="text/javascript",e.src=Mpathy.getPath("static","mpt_stats"),document.getElementsByTagName("head")[0].appendChild(e)}i.consoleOpen&&(d.injectScript(Mpathy.getPath("static","consoleScript")),["Loader","Engine","Polls","preCC","CC","pollCC"].forEach(function(t){Mpathy.versions.watch(t,function(e){e&&Mpathy.emitConsole("module",{module:t,version:e})},!0)})),window.addEventListener("hashchange",function(){var e=location.hash.match(/m-?pathy.([^=]+)(?:=([^=&]+))?/i);if(e){var t=e[1].toLowerCase(),n=(e[2]||"").toLowerCase();switch(t){case"debug":switch(n){case"0":Mpathy.setDebug(0);break;case"1":Mpathy.setDebug(!0,!1);break;default:Mpathy.setDebug()}break;case"trackme":switch(n){case"off":case"0":Mpathy.trackMe(!1);break;case"1":Mpathy.trackMe().setDebug();break;case"":Mpathy.trackMe();break;default:Mpathy.trackMe(!!isNaN(n)||n)}break;case"trackmepolls":switch(n){case"0":Mpathy.trackMePolls(!1);break;default:Mpathy.trackMePolls()}}}}),function(){if(!h.handle_js_errors)return;window.addEventListener("error",function(e){var t=/\/\/[^\/]+m-pathy\.com/.test(e.filename);if(Mpathy.Config.handle_js_errors!=r.ERROR_TRACKING_MPATHY||t){if(!(m<1))return m--,T("ps",{type:"error",msg:e.message,line:e.lineno+":"+e.colno,script_url:e.filename},"JS Error"),t&&Mpathy.stat("error",e),!1;u("failed to relay JS Error, max allowed count of error requests reached.")}})}(),s.generatePid(),d.defineAlias(s,"debug",i,"debug"),d.defineAlias(Mpathy,"debug_on",i,"debug"),d.defineAlias(s,"consoleOpen",i,"consoleOpen"),s.notify=u,s.start_time=w,s.properties=b,s.listenToDOMLoad=G,s.listenToWindowLoad=J,s.local_event_listeners=_,Mpathy.statsRequest=T,Mpathy.selected_profile={idsite:null,tracking_on:!1,polls_on:!1},D.init(),X.init(),D.nextProfile()}()}();